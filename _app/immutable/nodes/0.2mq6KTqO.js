import"../chunks/DsnmJJEf.js";import{d as Ye,o as de,s as B,e as ie,r as Be,h as Pe,a as Re}from"../chunks/BOOa181H.js";import{p as ve,Z as b,a1 as te,Y as u,k as e,f as w,a as $,s as h,b as _,c as ue,d as v,r as c,t as z,a0 as le}from"../chunks/YEsR6uFO.js";import{i as S}from"../chunks/C7VAiwEf.js";import{s as ae}from"../chunks/D1LHmu9n.js";import{e as Ge,s as ce}from"../chunks/JuV6_9Fc.js";import{i as me,e as T,S as N}from"../chunks/DjVlHYCf.js";const je=!0,vt=Object.freeze(Object.defineProperty({__proto__:null,prerender:je},Symbol.toStringTag,{value:"Module"}));function He(o,s,m){u(s,!e(s)),e(s)&&m()}var Me=(o,s)=>{o.stopPropagation(),s()},Ie=(o,s)=>{(o.key==="Enter"||o.key===" ")&&(o.stopPropagation(),s())},Oe=w('<div class="server-switcher-float svelte-1e8km9x"><button class="float-button svelte-1e8km9x" title="Switch Server">🌐 <span class="hide-button svelte-1e8km9x" role="button" tabindex="0" title="Hide server switcher for this session">✕</span></button></div>'),De=(o,s)=>{(o.key==="Enter"||o.key===" ")&&s()},Ne=o=>o.stopPropagation(),$e=(o,s)=>{o.key==="Escape"&&s()},ze=w('<span class="status mixed-content svelte-1e8km9x">⚠️ Test manually</span>'),Fe=w('<span class="status loading svelte-1e8km9x">Testing...</span>'),Ke=w('<span class="status success svelte-1e8km9x">✓ Working</span>'),Je=w('<span class="status error svelte-1e8km9x">✗ Failed</span>'),Qe=(o,s,m)=>s(e(m)),Ve=w('<div class="mixed-content-warning svelte-1e8km9x"><div class="warning-icon svelte-1e8km9x">⚠️</div> <div class="warning-text svelte-1e8km9x">Mixed content blocked</div> <button class="test-new-tab-btn svelte-1e8km9x" title="Test server in new tab">Test in New Tab</button></div>'),We=w('<iframe class="svelte-1e8km9x"></iframe>'),Ze=(o,s,m)=>s(e(m)),qe=w('<div><div class="server-info svelte-1e8km9x"><div class="server-name svelte-1e8km9x"> </div> <div class="server-hostname svelte-1e8km9x"> </div> <div class="server-status svelte-1e8km9x"><!></div></div> <div><!></div> <button class="select-btn svelte-1e8km9x"> </button></div>'),Xe=w('<div class="modal-overlay svelte-1e8km9x" role="button" tabindex="0" aria-label="Close server switcher modal"><div class="modal-content svelte-1e8km9x" role="dialog" aria-modal="true" tabindex="0"><div class="modal-header svelte-1e8km9x"><h3 class="svelte-1e8km9x">Choose Server</h3> <button class="close-btn svelte-1e8km9x">×</button></div> <div class="current-server svelte-1e8km9x">Current: <strong> </strong> </div> <div class="servers-grid svelte-1e8km9x"></div></div></div>'),et=w("<!> <!>",1);function tt(o,s){ve(s,!0);let m=b(!1),P=b(!1),k=b(te([])),f=te({});de(async()=>{await me(),u(k,T.servers,!0),e(k).forEach(t=>{f[t.hostname]="loading"})});function F(){e(k).forEach(t=>{f[t.hostname]="loading"})}function R(t){f[t.hostname]="success"}function G(t){f[t.hostname]="error"}function L(t){if(T.currentServer=t,u(m,!1),U(t)[1]){console.warn("[ServerSwitcher] Switching to a server with different security context. Reloading page.");const r=new URL(`${t.protocol}://${t.hostname}${window.location.pathname}`),g=new URLSearchParams(window.location.search);g.set("SetServer",t.hostname),r.search=g.toString(),r.hash=window.location.hash,window.location.href=r.toString();return}window.location.reload()}function y(){u(m,!1)}function j(){u(P,!0),u(m,!1)}function U(t){if(window){const n=window.isSecureContext,r=t.protocol==="https";return n&&r?["(Secure)",!1]:!n&&r?["(Secure)",!1]:!n&&!r?["(Insecure)",!1]:n&&!r?["(Insecure) Forces switch to different host",!0]:["(Unknown security status)",!1]}else return["(Unknown security status)",!1]}function x(t){if(window){const n=window.isSecureContext,r=t.protocol==="https";return n&&!r}return!1}function K(t){const n=`${t.protocol}://${t.hostname}/test_availability.html`;window.open(n,"_blank","noopener,noreferrer")}var H=et(),a=$(H);{var p=t=>{var n=Oe(),r=v(n);r.__click=[He,m,F];var g=h(v(r));g.__click=[Me,j],g.__keydown=[Ie,j],c(r),c(n),_(t,n)};S(a,t=>{e(P)||t(p)})}var A=h(a,2);{var fe=t=>{var n=Xe();n.__click=y,n.__keydown=[De,y];var r=v(n);r.__click=[Ne],r.__keydown=[$e,y];var g=v(r),_e=h(v(g),2);_e.__click=y,c(g);var J=h(g,2),Q=h(v(J)),he=v(Q,!0);c(Q);var pe=h(Q);c(J);var se=h(J,2);Ge(se,21,()=>e(k),V=>V.name,(V,i)=>{var M=qe();let oe;var W=v(M),Z=v(W),we=v(Z,!0);c(Z);var q=h(Z,2),ke=v(q,!0);c(q);var ne=h(q,2),ge=v(ne);{var be=d=>{var l=ze();_(d,l)},xe=d=>{var l=le(),Y=$(l);{var X=E=>{var D=Fe();_(E,D)},Ce=E=>{var D=le(),Te=$(D);{var Le=C=>{var ee=Ke();_(C,ee)},Ue=C=>{var ee=Je();_(C,ee)};S(Te,C=>{f[e(i).hostname]==="success"?C(Le):C(Ue,!1)},!0)}_(E,D)};S(Y,E=>{f[e(i).hostname]==="loading"?E(X):E(Ce,!1)},!0)}_(d,l)};S(ge,d=>{x(e(i))?d(be):d(xe,!1)})}c(ne),c(W);var I=h(W,2);let re;var Se=v(I);{var ye=d=>{var l=Ve(),Y=h(v(l),4);Y.__click=[Qe,K,i],c(l),_(d,l)},Ae=d=>{var l=We();z(()=>{ae(l,"src",`${e(i).protocol??""}://${e(i).hostname??""}/test_availability.html`),ae(l,"title",`Test ${e(i).name??""}`)}),ie("load",l,()=>R(e(i))),ie("error",l,()=>G(e(i))),Be(l),_(d,l)};S(Se,d=>{x(e(i))?d(ye):d(Ae,!1)})}c(I);var O=h(I,2);O.__click=[Ze,L,i];var Ee=v(O,!0);c(O),c(M),z((d,l,Y,X)=>{oe=ce(M,1,"server-card svelte-1e8km9x",null,oe,d),B(we,e(i).name),B(ke,l),re=ce(I,1,"iframe-container svelte-1e8km9x",null,re,Y),O.disabled=X,B(Ee,e(i).hostname===T.currentServer.hostname?"Current":"Select")},[()=>({current:e(i).hostname===T.currentServer.hostname}),()=>U(e(i))[0],()=>({"mixed-content":x(e(i))}),()=>!x(e(i))&&f[e(i).hostname]!=="success"]),_(V,M)}),c(se),c(r),c(n),z(()=>{B(he,T.currentServer.name),B(pe,` (${window?window.isSecureContext?"Secure":"Insecure":"Unknown"})`)}),_(t,n)};S(A,t=>{e(m)&&t(fe)})}_(o,H),ue()}Ye(["click","keydown"]);var at=w('<meta name="use-ga4"/>'),st=w("<!> <!>",1);function ut(o,s){ve(s,!0);let m={"ccported.click":"G-YPK0M57SY4","ccported.github.io":"G-NYC0Q0VKPP",localhost:null},P="G-DJDL65P9Y4",k=b(""),f=b(!1),F=b(!1),R=b(!1),G=b(te(N.adBlockEnabled)),L=b(!1);de(()=>{u(F,!0);{me().then(()=>{u(R,N.adsEnabled,!0),u(G,N.adBlockEnabled,!0)}),u(L,T.isAHost(),!0);let a=window.location.hostname;if(console.log("[R][LAYOUT][BASE] Hostname:",a),a in m){const p=m[a];console.log("[R][LAYOUT][BASE] GA4 Code:",p),p?(u(k,p,!0),u(f,!0)):u(f,!1)}else u(k,P),u(f,!0);console.log("[R][LAYOUT][BASE] Using GA4:",e(f),"with ID:",e(k)),e(f)&&e(k)&&y(e(k)),!e(L)&&!e(G)||N.devMode?(console.log("[R][LAYOUT][BASE] Bad Ads enabled"),j()):e(L)&&e(R)?console.log("[R][LAYOUT][BASE] Good ads enabled"):console.log("[R][LAYOUT][BASE] No ads")}});function y(a){const p=document.createElement("script");p.async=!0,p.src=`https://www.googletagmanager.com/gtag/js?id=${a}`,document.head.appendChild(p);const A=document.createElement("script");A.innerHTML=`
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
            gtag('config', '${a}');
        `,document.head.appendChild(A)}function j(){const a=document.createElement("script");a.type="text/javascript",a.async=!0,a.defer=!0,a.src="//pl27945770.effectivegatecpm.com/b0/88/ed/b088ed7c9240db179822a126a078b258.js",document.body.appendChild(a)}var U=st();Pe(a=>{var p=at();z(A=>ae(p,"content",A),[()=>String(e(f))]),_(a,p)});var x=$(U);Re(x,()=>s.children);var K=h(x,2);{var H=a=>{tt(a,{})};S(K,a=>{a(H)})}_(o,U),ue()}export{ut as component,vt as universal};
